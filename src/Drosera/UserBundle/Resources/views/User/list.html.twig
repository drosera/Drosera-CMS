{% extends 'DroseraAdminBundle::layout.html.twig' %}

{% block content %}
    <h1>Seznam uživatelů</h1>
    {% if app.session.hasFlash('success') %}
        <div>
            {{ app.session.flash('success') }}
        </div>
    {% endif %}
    <div>
        {% render "DroseraUserBundle:User:filterMenu" %}
    </div>
    <a href="{{ path('drosera_user_admin_user_create') }}">Vytvořit uživatele</a> 
    <table>
        <tr>
            <th>Login</th>
            <th>Jméno</th>
            <th>E-mail</th>
            <th>Uživatelská skupina</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
        </tr>
        {% for user in users %}
            <tr>
                <td><a href="{{ path('drosera_user_admin_user_edit', {'id':user.id}) }}">{{ user.username }}</a></td>
                <td><a href="{{ path('drosera_user_admin_user_edit', {'id':user.id}) }}">{{ user.fullname }}</a></td>
                <td>{{ user.email }}</td>
                <td><a href="{{ path('drosera_user_admin_user_list', {'user_group':user.usergroup.id}) }}">{{ user.usergroup }}</a></td>
                <td><a href="{{ path('drosera_user_admin_user_edit', {'id':user.id}) }}">Upravit</a></td>
                <td>
                    {% if loggedUser.id != user.id %}
                        <a href="{{ path('drosera_user_admin_user_remove', {'id':user.id}) }}">Odstranit</a>
                    {% endif %}    
                </td>
            </tr>
        {% endfor %}
        <tr>
            <th>Login</th>
            <th>Jméno</th>
            <th>E-mail</th>
            <th>Uživatelská skupina</th>
            <th>&nbsp;</th>
            <th>&nbsp;</th>
        </tr>
    </table>
{% endblock %}